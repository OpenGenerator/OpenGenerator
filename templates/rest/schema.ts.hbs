/**
 * {{pascalCase name}} Validation Schemas
 * Generated by OpenGenerator
 */

import { z } from 'zod'

/**
 * {{pascalCase name}} base schema
 */
export const {{camelCase name}}BaseSchema = z.object({
{{#each fields}}
  {{name}}: {{zodType type}}{{#unless required}}.optional(){{/unless}}{{#if description}}.describe('{{description}}'){{/if}},
{{/each}}
})

/**
 * Create {{pascalCase name}} schema
 */
export const create{{pascalCase name}}Schema = {{camelCase name}}BaseSchema.omit({
{{#each generatedFields}}
  {{this}}: true,
{{/each}}
})

/**
 * Update {{pascalCase name}} schema
 */
export const update{{pascalCase name}}Schema = create{{pascalCase name}}Schema.partial()

/**
 * {{pascalCase name}} ID param schema
 */
export const {{camelCase name}}IdSchema = z.object({
  id: z.string().uuid('Invalid {{lowerCase name}} ID'),
})

/**
 * {{pascalCase name}} query schema
 */
export const {{camelCase name}}QuerySchema = z.object({
  page: z.coerce.number().int().positive().default(1),
  limit: z.coerce.number().int().positive().max(100).default(10),
  sort: z.enum([{{#each sortableFields}}'{{this}}'{{#unless @last}}, {{/unless}}{{/each}}]).optional(),
  order: z.enum(['asc', 'desc']).default('asc'),
  search: z.string().optional(),
{{#each filterableFields}}
  {{name}}: {{zodType type}}.optional(),
{{/each}}
})

/**
 * Export all schemas
 */
export const {{camelCase name}}Schema = {
  base: {{camelCase name}}BaseSchema,
  create: create{{pascalCase name}}Schema,
  update: update{{pascalCase name}}Schema,
  id: {{camelCase name}}IdSchema,
  query: {{camelCase name}}QuerySchema,
}

/**
 * Inferred types from schemas
 */
export type {{pascalCase name}}Base = z.infer<typeof {{camelCase name}}BaseSchema>
export type Create{{pascalCase name}} = z.infer<typeof create{{pascalCase name}}Schema>
export type Update{{pascalCase name}} = z.infer<typeof update{{pascalCase name}}Schema>
export type {{pascalCase name}}Query = z.infer<typeof {{camelCase name}}QuerySchema>

"""
{{pascalCase name}} GraphQL Schema
Generated by OpenGenerator
"""

"""
{{pascalCase name}} type
"""
type {{pascalCase name}} {
  id: ID!
{{#each fields}}
  {{name}}: {{graphqlType type}}{{#if required}}!{{/if}}
{{/each}}
  createdAt: DateTime!
  updatedAt: DateTime!
{{#if softDelete}}
  deletedAt: DateTime
{{/if}}
{{#each relations}}
  {{name}}: {{#if isArray}}[{{type}}!]!{{else}}{{type}}{{#if required}}!{{/if}}{{/if}}
{{/each}}
}

"""
Paginated {{pluralize (pascalCase name)}} response
"""
type {{pascalCase name}}Connection {
  edges: [{{pascalCase name}}Edge!]!
  pageInfo: PageInfo!
  totalCount: Int!
}

"""
{{pascalCase name}} edge
"""
type {{pascalCase name}}Edge {
  node: {{pascalCase name}}!
  cursor: String!
}

"""
Create {{pascalCase name}} input
"""
input Create{{pascalCase name}}Input {
{{#each fields}}
{{#unless isGenerated}}
  {{name}}: {{graphqlType type}}{{#if required}}!{{/if}}
{{/unless}}
{{/each}}
}

"""
Update {{pascalCase name}} input
"""
input Update{{pascalCase name}}Input {
{{#each fields}}
{{#unless isGenerated}}
  {{name}}: {{graphqlType type}}
{{/unless}}
{{/each}}
}

"""
{{pascalCase name}} filter input
"""
input {{pascalCase name}}FilterInput {
  search: String
{{#each filterableFields}}
  {{name}}: {{graphqlType type}}
  {{name}}_in: [{{graphqlType type}}!]
{{/each}}
{{#each dateFields}}
  {{name}}_gte: DateTime
  {{name}}_lte: DateTime
{{/each}}
  AND: [{{pascalCase name}}FilterInput!]
  OR: [{{pascalCase name}}FilterInput!]
  NOT: {{pascalCase name}}FilterInput
}

"""
{{pascalCase name}} order by input
"""
input {{pascalCase name}}OrderByInput {
{{#each sortableFields}}
  {{this}}: SortOrder
{{/each}}
}

"""
{{pascalCase name}} queries
"""
extend type Query {
  """
  Get {{lowerCase name}} by ID
  """
  {{camelCase name}}(id: ID!): {{pascalCase name}}

  """
  Get all {{pluralize (lowerCase name)}}
  """
  {{pluralize (camelCase name)}}(
    first: Int
    after: String
    last: Int
    before: String
    filter: {{pascalCase name}}FilterInput
    orderBy: {{pascalCase name}}OrderByInput
  ): {{pascalCase name}}Connection!

  """
  Count {{pluralize (lowerCase name)}}
  """
  {{camelCase name}}Count(filter: {{pascalCase name}}FilterInput): Int!
}

"""
{{pascalCase name}} mutations
"""
extend type Mutation {
  """
  Create new {{lowerCase name}}
  """
  create{{pascalCase name}}(input: Create{{pascalCase name}}Input!): {{pascalCase name}}!

  """
  Update {{lowerCase name}}
  """
  update{{pascalCase name}}(id: ID!, input: Update{{pascalCase name}}Input!): {{pascalCase name}}

  """
  Delete {{lowerCase name}}
  """
  delete{{pascalCase name}}(id: ID!): Boolean!

  """
  Batch delete {{pluralize (lowerCase name)}}
  """
  deleteMany{{pluralize (pascalCase name)}}(ids: [ID!]!): Int!
}

{{#if subscriptions}}
"""
{{pascalCase name}} subscriptions
"""
extend type Subscription {
  """
  {{pascalCase name}} created
  """
  {{camelCase name}}Created: {{pascalCase name}}!

  """
  {{pascalCase name}} updated
  """
  {{camelCase name}}Updated(id: ID): {{pascalCase name}}!

  """
  {{pascalCase name}} deleted
  """
  {{camelCase name}}Deleted: ID!
}
{{/if}}
